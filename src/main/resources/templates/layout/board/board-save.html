<!doctype html>
<html lang="en" class="h-100" xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html">

<head th:replace="layout/header :: head ('글작성')"></head>

<body class="text-center d-flex flex-column h-100">
<header th:replace="layout/header :: header"></header>

  <h1 class="h3 m-3 fw-normal">글쓰기</h1>

  <div class="container border rounded flex-md-row mb-4 shadow-sm h-md-250">
    <form>
      <div class="search_boxes">
        <div class="form-floating m-3">
          여행 도시 :
          <select name="city" id="city" class="select-css" onchange="categoryChange(this)">
            <option value>시/도 선택</option>
            <option value="강원">강원</option>
            <option value="경기">경기</option>
            <option value="경남">경남</option>
            <option value="경북">경북</option>
            <option value="광주">광주</option>
            <option value="대구">대구</option>
            <option value="대전">대전</option>
            <option value="부산">부산</option>
            <option value="서울">서울</option>
            <option value="울산">울산</option>
            <option value="인천">인천</option>
            <option value="전남">전남</option>
            <option value="전북">전북</option>
            <option value="제주">제주</option>
            <option value="충남">충남</option>
            <option value="충북">충북</option>
          </select>
          -
          <select name="state" id="state" class="select-css">
            <option>군/구 선택</option>
          </select>
        </div>
      </div>
      </hr>

      <div class="form-floating m-3">
        날짜 선택 :
        <input type="date" name="startday" id="startday" class="select-css" placeholder="날짜 선택">
        -
        <input type="date" name="lastday" id="lastday" class="select-css" placeholder="날짜 선택">
      </div>

      <div class="form-floating m-3">
        모집 인원 :
        <input type="range" name="pnum" id="pnum"  min="1" max="10" value="1">
        <span id="value1" value="1"></span>명
      </div>

      <!--트립소다 처럼 터치쪽으로 바꿀 예정-->
      <div class="form-floating m-3">
        배경 사진 :
        <input type="file" accept="image/*" name="picture" id="picture" onchange="readURL(this);">
        </br>
        <img id="preview" width="600" height="400">
      </div>

      </hr>

      <div class="form-floating m-3">
        <input type="text" class="form-control" id="title" placeholder="ex) 8월 제주도 2박3일 동행자 3명구해요" required>
        <label for="title">제목</label>
      </div>

      </hr>

      <div class="form-floating m-3">
        <textarea class="form-control" rows="5" id="content" style="height: 450px;"></textarea>
        <label for="content">내용</label>
      </div>

    </form>
    <div class="btn-area-board">
      <!--<div>
        <button id="btn-back" onclick="history.back()">취소</button>
      </div>-->
      <div>
        <button id="btn-save">작성완료</button>
      </div>
    </div>

  </div>

<!--<footer th:replace="layout/footer :: footer"></footer>-->

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"
        integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script th:src="@{/js/board.js}"></script>
<script>

  switch(document.getElementById("city")){
        case "서울":

</script>
<script>
  var slider = document.getElementById("pnum");
  var output = document.getElementById("value1");
  output.innerHTML=slider.value;

  slider.oninput=function(){
    output.innerHTML = this.value;
  }

  var now_utc = Date.now() // 지금 날짜를 밀리초로
  // getTimezoneOffset()은 현재 시간과의 차이를 분 단위로 반환
  var timeOff = new Date().getTimezoneOffset()*60000; // 분단위를 밀리초로 변환
  // new Date(now_utc-timeOff).toISOString()은 '2022-05-11T18:09:38.134Z'를 반환
  var today = new Date(now_utc-timeOff).toISOString().split("T")[0];
  document.getElementById("startday").setAttribute("min", today);

  var startdayInput = document.getElementById("startday");
  var lastdayInput = document.getElementById("lastday");
  startdayInput.addEventListener("change", function() {
    var selectedDate = new Date(startdayInput.value);
    var nextDay = new Date(selectedDate);
    var formattedNextDay = nextDay.toISOString().split("T")[0];
    lastdayInput.min = formattedNextDay;
  });



</script>

<script>
  function readURL(input) {
    if (input.files && input.files[0]) {
      var reader = new FileReader();
      reader.onload = function(e) {
        document.getElementById('preview').src = e.target.result;
      };
      reader.readAsDataURL(input.files[0]);
    } else {
      document.getElementById('preview').src = "";
    }
  }
</script>
</body>

</html>